(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{193:function(a,t,s){"use strict";s.r(t);var e=s(0),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"使用软删除"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用软删除"}},[a._v("#")]),a._v(" 使用软删除")]),a._v(" "),s("p",[a._v("这只是为了帮助您在Voyager中启用模型的软删除，请参考 "),s("a",{attrs:{href:"https://learnku.com/docs/laravel/5.8/eloquent/3931#soft-deleting",target:"_blank",rel:"noopener noreferrer"}},[a._v("Laravel 文档"),s("OutboundLink")],1),a._v(" 了解更多详情.")]),a._v(" "),s("h2",{attrs:{id:"在voyager配置表信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在voyager配置表信息"}},[a._v("#")]),a._v(" 在Voyager配置表信息")]),a._v(" "),s("p",[a._v("使用选择了“添加软删除”按钮的数据库管理器创建表时，以及向已添加模型名称的表添加BREAD功能时，只需编辑模型文件即可在该表上完全启用软删除。")]),a._v(" "),s("h2",{attrs:{id:"编辑表的模型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编辑表的模型"}},[a._v("#")]),a._v(" 编辑表的模型")]),a._v(" "),s("p",[a._v("一个默认的表模型，看起来是这样的:")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("<?php")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("namespace")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[a._v("App")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[a._v("Illuminate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Database"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Eloquent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Model")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("YourModelName")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Model")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),s("p",[a._v("正好把他变成:")]),a._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("<?php")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("namespace")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[a._v("App")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[a._v("Illuminate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Database"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Eloquent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Model")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[a._v("Illuminate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Database"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Eloquent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("SoftDeletes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Documento")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Model")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("use")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[a._v("SoftDeletes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("protected")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$dates")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[a._v("'deleted_at'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),s("p",[a._v("从现在起，每次从该表中删除记录时，它实际上不会被删除，只有 "),s("code",[a._v("deleted_at")]),a._v(" 列将使用当前时间戳写入。")])])}),[],!1,null,null,null);t.default=n.exports}}]);