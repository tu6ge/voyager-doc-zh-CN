(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{159:function(t,a,s){t.exports=s.p+"assets/img/bread_controller.ab418246.png"},191:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"重写文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重写文件"}},[t._v("#")]),t._v(" 重写文件")]),t._v(" "),n("h2",{attrs:{id:"重写bread视图文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重写bread视图文件"}},[t._v("#")]),t._v(" 重写BREAD视图文件")]),t._v(" "),n("p",[t._v("您可以通过在"),n("code",[t._v("resources/views/vendor/voyager/")]),t._v("目录中创建一个新文件夹"),n("code",[t._v("slug-name")]),t._v("来覆盖"),n("strong",[t._v("单个")]),t._v("BREAD的任意BREAD视图，其中"),n("code",[t._v("slug-name")]),t._v("是为该表分配的"),n("code",[t._v("slug")]),t._v("。有4个文件可以覆盖：")]),t._v(" "),n("ul",[n("li",[t._v("browse.blade.php")]),t._v(" "),n("li",[t._v("edit-add.blade.php")]),t._v(" "),n("li",[t._v("read.blade.php")]),t._v(" "),n("li",[t._v("order.blade.php")])]),t._v(" "),n("p",[t._v("或者，您可以通过在"),n("code",[t._v("resources/views/vendor/voyager/bread")]),t._v("下创建上述任何文件来覆盖所有BREAD的视图`")]),t._v(" "),n("h2",{attrs:{id:"使用自定义布局"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用自定义布局"}},[t._v("#")]),t._v(" 使用自定义布局")]),t._v(" "),n("h3",{attrs:{id:"覆盖提交按钮"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#覆盖提交按钮"}},[t._v("#")]),t._v(" 覆盖提交按钮:")]),t._v(" "),n("p",[t._v("通过扩展"),n("code",[t._v("submit-buttons")]),t._v("布局，您可以覆盖“提交”默认布局，而无需覆盖整个"),n("code",[t._v("edit-add.blade.php")]),t._v("：")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[t._v("@extends('voyager::bread.edit-add')\n@section('submit-buttons')\n    @parent\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("submit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("btn btn-primary save"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Save And Publish"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n@endsection\n")])])]),n("h2",{attrs:{id:"使用自定义控制器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用自定义控制器"}},[t._v("#")]),t._v(" 使用自定义控制器")]),t._v(" "),n("p",[t._v("您可以通过创建继承Voyagers controller的控制器来覆盖单个BREAD的控制器，例如：")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token php language-php"}},[n("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token package"}},[t._v("App"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VoyagerCategoriesController")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("TCG"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Voyager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("VoyagerBaseController")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),n("p",[t._v("之后，转到BREAD设置页并用带命名空间的类名填写控制器名称")]),t._v(" "),n("p",[n("img",{attrs:{src:s(159),alt:""}})]),t._v(" "),n("p",[t._v("现在你可以重写 "),n("a",{attrs:{href:"https://github.com/the-control-group/voyager/blob/1.3/src/Http/Controllers/VoyagerBaseController.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("VoyagerBaseController"),n("OutboundLink")],1),t._v("类中的所有方法")]),t._v(" "),n("h2",{attrs:{id:"重写-voyagers-控制器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重写-voyagers-控制器"}},[t._v("#")]),t._v(" 重写 Voyagers 控制器")]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("只有当你知道自己在做什么时才使用这种方法")]),t._v(" "),n("p",[t._v("我们不建议或支持重写所有控制器，因为您在以后的更新中不会得到任何代码更改")])]),t._v(" "),n("p",[t._v("如果要覆盖任何Voyagers核心控制器，首先必须更改配置文件"),n("code",[t._v("config/voyager.php")])]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n|--------------------------------------------------------------------------\n| Controllers config\n|--------------------------------------------------------------------------\n|\n| Here you can specify voyager controller settings\n|\n*/")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'controllers'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'namespace'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'App\\\\Http\\\\Controllers\\\\Voyager'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),n("p",[t._v("然后运行 "),n("code",[t._v("php artisan voyager:controllers")]),t._v("命令, Voyager 现在将使用将在"),n("code",[t._v("App/Http/controllers/Voyager")]),t._v("中创建的子控制器")]),t._v(" "),n("h2",{attrs:{id:"重写-voyager模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重写-voyager模型"}},[t._v("#")]),t._v(" 重写 Voyager模型")]),t._v(" "),n("p",[t._v("你也可以根据自己的需要来重写 Voyager模型")]),t._v(" "),n("p",[t._v("为此，你需要将以下内容添加到AppServiceProviders的 register方法中：")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[t._v("Voyager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("useModel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("其中name是模型的类名，object是自定义模型的带命名空间的完整名称。例如：")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token php language-php"}},[n("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token package"}},[t._v("App"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Providers")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token package"}},[t._v("Illuminate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Support"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ServiceProvider")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token package"}},[t._v("Illuminate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Events"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Dispatcher")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token package"}},[t._v("TCG"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Voyager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Facades"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Voyager")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppServiceProvider")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServiceProvider")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("register")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        Voyager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("useModel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'DataRow'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \\"),n("span",{pre:!0,attrs:{class:"token package"}},[t._v("App"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("DataRow")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),n("p",[t._v("下一步是创建模型并使其扩展原始模型。比如说"),n("code",[t._v("DataRow")]),t._v("：")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token php language-php"}},[n("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token package"}},[t._v("App")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataRow")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("TCG"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Voyager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("DataRow")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);